<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>svg</title>
    <style>
      body {
        min-height: 100vh;
        margin: 0;
        overflow: hidden;
      }

      .box {
        display: block;
        width: 100px;
        height: 100px;
        background-color: green;
      }
      .text {
        height: 50px;
      }
      .circle {
        height: 100px;
      }
      .psBox {
        position: absolute;
        left: 157px;
        top: 141px;
        width: 750px;
        height: 750px;
        z-index: 1;
      }
      .psBoxPath {
        /* animation: dash 2s linear 3s alternate infinite; */
      }
      @keyframes dash {
          from {
              stroke-dashoffset: 1655;
          }
          to {
              stroke-dashoffset: 0;
          }
      }
      
    </style>
</head>

<body>
  <div class="box green"></div>
  <div class="text">
    <svg>
      <text x="5" y="30">a text content</text>
    </svg>
  </div>
  <div class="circle">
    <svg>
      <circle cx="50" cy="50" r="50" fill="#ccc"></circle>
    </svg>
  </div>
  <div class="path">
    <svg height="300" width="300">
      <path d="M 100 100 L 200 200 H 10 V 40 H 70"
            fill="#59fa81" stroke="#d85b49" stroke-width="3" />
    </svg>
  </div>
  <div class="psBox">
    <svg xmlns="http://www.w3.org/2000/svg"
     width="150" height="100" viewBox="0 0 3 2">

  <rect width="1" height="2" x="0" fill="#008d46" />
  <rect width="1" height="2" x="1" fill="#ffffff" />
  <rect width="1" height="2" x="2" fill="#d2232c" />
</svg>
    <svg 
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    width="500px" height="500px"
    viewBox="-20, -20, 590, 480"
    >
      <path 
      id="path1"
      fill-rule="evenodd"  
      fill="none" 
      stroke="#000"
      class="psBoxPath"
      d="M0.0,84.0 C0.0,84.0 62.234,-63.945 183.999,33.999 C305.765,131.945 193.382,184.218 164.0,201.0 C134.617,217.781 -26.234,217.187 62.0,350.999 C150.234,484.812 139.703,467.484 289.999,473.0 C440.296,478.515 437.492,367.0 488.0,308.0 C538.507,249.0 489.976,0.226 404.999,42.999 "/>


      <circle
        r="20"
        x="150"
        y="0"
        style="fill: #ccc"
      >
        <animateMotion
          dur="6s"
          repeatCount="indefinite"
          rotate="auto"
          begin="click"
        >
          <mpath xlink:href="#path1" />
        </animateMotion>
      </circle>
      <!-- <text  style="color: red">
        <textPath xlink:href="#path1" class="linkText">
          aishitaro aishitaru aishiteru aishiteru
          aishitaro aishitaru aishiteru aishiteru
          aishitaro aishitaru aishiteru aishiteru
          aishitaro aishitaru aishiteru aishiteru
          aishitaro aishitaru aishiteru aishiteru
          aishitaro aishitaru aishiteru aishiteru
        </textPath>
      </text> -->
    </svg>
  </div>
  <svg xmlns="http://www.w3.org/2000/svg" version="1.1">
    <g>
      <path stroke="red" 
      stroke-width="13"
      stroke-linecap="round"
      stroke-dashoffset="100 50"
       d="M0 20 l200 0" />
      <path stroke="green" d="M0 40 l200 0" />
      <path stroke="blue" d="M0 60 l200 0" />
    </g>
  </svg>
  <svg width="500" height="500">
    <path d="M100 150 L200 50 L300 150 L400 50 Z"
      stroke="#ccc" stroke-width="2"
      fill="none"
      id="myPath"
    />
    <circle r="20" x="150" y="0" style="fill:#336622;">
      <!-- <animateMotion
      dur="6s"
      repeatCount="indefinite"
      rotate="auto">
        <mpath xlink:href="#myPath" />
      </animateMotion> -->
    </circle>
  </svg>
  <svg
    x="106"
    y="2150"
    width="644"
    xmlns="http://www.w3.org/2000/svg"
    styel="vertical-align: middle; max-width: 100%;"
    height="926"
    opacity="0"
    style="box-sizing: border-box;visibility: visible;">
      <foreignObject width="100%" height="100%" x="0" y="0" style="box-sizing: border-box;visibility: visible;">
          <svg space="default" style="width: 100%;background-position: 0% 0%;background-repeat: no-repeat;background-size: cover;background-attachment: scroll;-webkit-tap-highlight-color: transparent;user-select: none;visibility: visible;pointer-events: none;background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/1sAHlgRjTtmGyk5eaxBHZ4FRPicXjkbGZeWaLw3DMU0XASUTPY7icqwwZkvqsswibEEYBv5NNtZwgGBCLfoeUKI4A/640?wx_fmt=png&quot;);box-sizing: border-box;-webkit-user-select: none;" viewBox="0 0 644 926" xlink="http://www.w3.org/1999/xlink" xml="" xmlns="http://www.w3.org/2000/svg"></svg>
      </foreignObject>
      <animate style="box-sizing: border-box;" fill="freeze" attributeName="opacity" begin="click" from="0" to="1" dur="1.5"></animate>
  </svg>
  <svg viewBox="0 0 345 40" style="max-width:none!important;">
    <animate attributeName="width" begin="0" calcMode="spline" dur="2" fill="freeze" keySplines="0.42 0 0.58 1" restart="never" values="100%;1000%"></animate>
    <animate attributeName="width" begin="4" calcMode="spline" dur="3" fill="freeze" keySplines="0.42 0 0.58 1" restart="never" values="1000%;2500%"></animate>
    <animate attributeName="width" begin="11.5" calcMode="spline" dur="3" fill="freeze" keySplines="0.42 0 0.58 1" restart="never" values="2500%;4080%"></animate>
    <animate attributeName="width" begin="18.5" calcMode="spline" dur="3" fill="freeze" keySplines="0.42 0 0.58 1" restart="never" values="4080%;5600%"></animate>
    <animate attributeName="width" begin="25.6" calcMode="spline" dur="3" fill="freeze" keySplines="0.42 0 0.58 1" restart="never" values="5600%;9700%"></animate>
  </svg>
</body>
<script src = "https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js" ></script> 
<script>
  gsap.to('.box', {
    x: 200,
  })
  let svgMove = function(str) {
    const path = document.querySelector(`.${str}`);

    // 获取总长度
    const totalLength = path.getTotalLength();
    path.style.strokeDasharray = totalLength;
    path.style.strokeDashoffset = totalLength;

    let currenFtame = 0;
    let totalFrames = 160;
    const draw = function () {
      let progress = currenFtame / totalFrames;
      if( progress > 1 ) {
        window.cancelAnimationFrame(handle);
      } else {
        currenFtame++;

        path.style.strokeDashoffset = totalLength * (1 - progress);
        handle = window.requestAnimationFrame(draw);
      }
    };
    draw();
  }
  svgMove('psBoxPath');
  function thisFun() {
    console.log('this svg event')
  }
  
</script>
</html>
